@model IEnumerable<E_Procurement.Repository.VendoRepo.VendorModel>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Vendor";
    ViewBag.FavIcon = "fa fa-street-view";
    ViewBag.PageDesc = "Manage Vendor";
}

<div class="main-card mb-3 card">

    <div class="card-body">
        <div class="" style="display:flex; justify-content:space-between">
            @*<a class="btn btn-primary" pull-right" href="@Url.Action("Create", "Vendor")"><i class="fa fa-plus"> </i>  Add Vendor</a>*@

            <input type="text" id="myInput" style="width:300px; height:40px" onkeyup="myFunction()" class="form-control" placeholder="Search..">
        </div>

            <hr />
            
            <table  id="myTable" class="table table-hover table-striped table-bordered">
                <thead>
                    <tr>
                        <th>S/N</th>
                        <th>Vendor Name </th>
                        <th>Memorandum Of Assoociation</th>
                        <th>Bank Reference Letter </th>
                        <th>Certificate Of VAT Registration </th>
                        <th>Reference </th>
                        <th>Tax Clearance Certificate</th>
                        <th>Particulars Of Directors </th>
                        <th>Particulars Of Shareholders </th>
                        <th>Notice Of Situation Address </th>
                        @*<th>Branch </th>
                        <th>CAC Number </th>
                        <th>Contact Name </th>
                        <th>Phone Number </th>
                        @*<th>Sort Code </th>*@
                        @*<th>Email </th>
                        <th>Status</th>
                        <th>Action</th>*@
                    </tr>
                </thead>
                <tbody>

                    @{int rowNo = 0;}
                    @foreach (var item in Model.Where(a => a.VendorName != null))
                    {
                    <tr>
                        <td>@(rowNo += 1)</td>
                        <td>@item.VendorName</td>
                        @if (item.MOAFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.MOAFilePath"  style="height:110px; width:110px"><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Memorandum <br />Of Association</a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.BankRefFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.BankRefFilePath" style="height:110px; width:110px"><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Bank <br />Reference <br /> Letter </a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.COVFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.COVFilePath" style="height:110px; width:110px" ><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Certificate <br />Of VAT <br /> Registration </a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.RefFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.RefFilePath" style="height:110px; width:110px" ><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Reference </a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.TaxFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.TaxFilePath" style="height:110px; width:110px" ><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Tax <br />Clearance <br /> Certificate </a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.PODFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.PODFilePath" style="height:110px; width:110px" ><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Particulars <br />Of <br /> Directors </a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.POSFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.POSFilePath" style="height:110px; width:110px" ><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Particulars <br />Of <br /> Shareholders </a></td>
                        }
                        else
                        {
                            <td  style="height:110px; width:110px"></td>
                        }
                        @if (item.NOSFilePath != null)
                        {
                            <td><a class="btn btn-info mg-r-5" target="_blank" href="~/Uploads/VendorDocuments/@item.NOSFilePath" style="height:110px; width:110px" ><span class="fa fa-eye"></span> <br />Click to view <br /><br /> Notice <br />Of Situation <br /> Address </a></td>
                        }
                        else
                        {
                            <td style="height:110px; width:110px"></td>
                        }

                        @*<td>@item.BankBranch</td>
        <td>@item.CacNo</td>
        <td>@item.ContactName</td>
        <td>@item.PhoneNumber</td>*@
                        @*<td>@item.SortCode</td>*@
                        @*<td>@item.Email</td>*@

                        @*<td>
            @if (item.IsActive)
            {
                <label class="text-success">Active</label>
            }
            else
            {
                <label class="text-danger">Inactive</label>

            }
        </td>
        <td><a class="btn btn-orange" href="@Url.Action("Edit", "Vendor",  new { VendorId = item.Id })"><span class="fa fa-pencil"></span><i class="pe-7s-edit btn-icon-wrapper"></i> Edit</a></td>*@
                    </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>
<script>
    function myFunction() {
        // Declare variables
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");

        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
</script>
